{% extends 'blog/base.html' %}

{% block content %}
<h3>Conversa com {{ other_user.username }}</h3>

<div id="message-container" style="max-height: 400px; overflow-y: scroll; border: 1px solid #ccc; padding: 10px; margin-bottom: 15px;">
    {% for message in messages %}
        <div style="margin-bottom: 10px; {% if message.sender == user %}text-align: right;{% endif %}">
            <strong>{{ message.sender.username }}</strong><br>
            {{ message.content|linebreaks }}<br>
            <small>{{ message.timestamp|date:"d/m/Y H:i" }}</small>
        </div>
    {% endfor %}
</div>

<form method="post">
    {% csrf_token %}
    {{ form }}
    <button type="submit" class="btn btn-primary mt-2">Enviar</button>
</form>
{% endblock %}
